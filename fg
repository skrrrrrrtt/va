--// Services
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

--// Net Package Root
local Net = ReplicatedStorage.Packages._Index["sleitnick_net@0.2.0"].net

--// Events / Functions
local EquipToolEvent = Net["RE/EquipToolFromHotbar"]
local ChargeFishingRod = Net["RF/ChargeFishingRod"]
local FishingMinigameStart = Net["RF/RequestFishingMinigameStarted"]
local FishingCompleted = Net["RE/FishingCompleted"]

--// Spam Click Settings
local spam = false
local clickSpeed = 0.05 -- seconds between clicks (0.05 = 20 clicks/sec)

--// Function to simulate a "click"
local function simulateClick()
    pcall(function()
        game:GetService("UserInputService"):FireInputBegan(Enum.UserInputType.MouseButton1, false)
        game:GetService("UserInputService"):FireInputEnded(Enum.UserInputType.MouseButton1, false)
    end)
end

--// Start spamming
local function startSpam()
    if spam then return end
    spam = true
    print("[Spam] Started clicking!")

    task.spawn(function()
        while spam do
            simulateClick()
            task.wait(clickSpeed)
        end
    end)
end

--// Stop spamming
local function stopSpam()
    spam = false
    print("[Spam] Stopped clicking!")
end

--// When minigame starts
FishingMinigameStart:InvokeServer()
FishingMinigameStart.OnClientInvoke = function(...)
    print("[Fishing] Minigame started!")
    startSpam()
end

--// When fishing completes
FishingCompleted.OnClientEvent:Connect(function(...)
    print("[Fishing] Completed!")
    stopSpam()
end)

--// Optional tool equip tracking
EquipToolEvent.OnClientEvent:Connect(function(toolName)
    print("Equipped tool:", toolName)
end)

